{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'NuevoGasto',\n  props: {\n    datosCajaAbierta: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      ValorGasto: '',\n      NombreGasto: ''\n    };\n  },\n  methods: {\n    async NuevoGasto() {\n      const IDAbrirCaja = this.datosCajaAbierta.IDAbrirCaja;\n      const formData = {\n        NombreGasto: this.NombreGasto,\n        ValorGasto: this.ValorGasto,\n        IDAbrirCaja: IDAbrirCaja // Solo enviar IDAbrirCaja\n        // ID del proveedor seleccionado\n      };\n      try {\n        const response = await axios.post('http://localhost:3000/NuevoGasto', formData);\n        console.log('Respuesta del servidor:', response.data);\n        alert('Gasto registrado correctamente.');\n\n        // Obtener los datos del último registro\n        const dataResponse = await axios.get('http://localhost:3000/UltimoGasto');\n        const datosGasto = dataResponse.data;\n        alert(`Último Gasto Registrado:\n          ID Gasto: ${datosGasto.IDGasto}\n          Nombre Gasto: ${datosGasto.NombreGasto}\n          Fecha Gasto: ${datosGasto.FechaGasto}\n          Valor Gasto: ${datosGasto.ValorGasto}`);\n        this.limpiarDatos(); // Limpiar datos\n      } catch (error) {\n        console.error('Error al registrar el gasto:', error);\n        alert('Error al registrar el gasto: ' + error.message);\n      }\n    },\n    limpiarDatos() {\n      this.ValorGasto = '';\n      this.NombreGasto = '';\n    }\n  }\n};","map":{"version":3,"names":["axios","name","props","datosCajaAbierta","type","Object","required","data","ValorGasto","NombreGasto","methods","NuevoGasto","IDAbrirCaja","formData","response","post","console","log","alert","dataResponse","get","datosGasto","IDGasto","FechaGasto","limpiarDatos","error","message"],"sources":["C:\\Users\\Kenny\\Downloads\\Proyect\\Proyect_Web\\src\\components\\NuevoGasto.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <form @submit.prevent=\"NuevoGasto\">\r\n      <div class=\"btn-group\" role=\"group\" aria-label=\"Basic radio toggle button group\">\r\n        <input type=\"radio\" class=\"btn-check\" name=\"btnradio\" id=\"btnradio1\" autocomplete=\"off\" value=\"Pagada\" checked>\r\n        <label class=\"btn btn-outline-primary\" for=\"btnradio1\">Pagada</label>\r\n\r\n        <input type=\"radio\" class=\"btn-check\" name=\"btnradio\" id=\"btnradio2\" autocomplete=\"off\" value=\"En Deuda\">\r\n        <label class=\"btn btn-outline-primary\" for=\"btnradio2\">En Deuda</label>\r\n      </div>\r\n      \r\n      <div class=\"mb-3\">\r\n        <label for=\"ValorGasto\" class=\"form-label\">Valor</label>\r\n        <input type=\"number\" class=\"form-control\" id=\"ValorGasto\" v-model=\"ValorGasto\" required>\r\n      </div>\r\n      <div class=\"mb-3\">\r\n        <label for=\"NombreGasto\" class=\"form-label\">¿Quieres darle un nombre a este gasto?</label>\r\n        <input type=\"text\" placeholder=\"Escríbelo aquí\" class=\"form-control\" id=\"NombreGasto\" v-model=\"NombreGasto\">\r\n      </div>\r\n      \r\n      <button type=\"submit\" class=\"btn btn-primary\">Guardar</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'NuevoGasto',\r\n  props: {\r\n    datosCajaAbierta: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n     \r\n      ValorGasto: '',\r\n      NombreGasto: '',\r\n    \r\n    };\r\n  },\r\n  \r\n  methods: {\r\n    \r\n    async NuevoGasto() {\r\n      const IDAbrirCaja = this.datosCajaAbierta.IDAbrirCaja;\r\n      const formData = {\r\n      \r\n        NombreGasto: this.NombreGasto,\r\n        ValorGasto: this.ValorGasto,\r\n        IDAbrirCaja: IDAbrirCaja, // Solo enviar IDAbrirCaja\r\n        // ID del proveedor seleccionado\r\n      };\r\n      try {\r\n        const response = await axios.post('http://localhost:3000/NuevoGasto', formData);\r\n        console.log('Respuesta del servidor:', response.data);\r\n        alert('Gasto registrado correctamente.');\r\n\r\n        // Obtener los datos del último registro\r\n        const dataResponse = await axios.get('http://localhost:3000/UltimoGasto');\r\n        const datosGasto = dataResponse.data;\r\n        alert(`Último Gasto Registrado:\r\n          ID Gasto: ${datosGasto.IDGasto}\r\n          Nombre Gasto: ${datosGasto.NombreGasto}\r\n          Fecha Gasto: ${datosGasto.FechaGasto}\r\n          Valor Gasto: ${datosGasto.ValorGasto}`);\r\n\r\n        this.limpiarDatos(); // Limpiar datos\r\n\r\n      } catch (error) {\r\n        console.error('Error al registrar el gasto:', error);\r\n        alert('Error al registrar el gasto: ' + error.message);\r\n      }\r\n    },\r\n    limpiarDatos() {\r\n     \r\n      this.ValorGasto = '';\r\n      this.NombreGasto = '';\r\n     \r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n  \r\n  <style scoped>\r\n  .form-group {\r\n    margin-bottom: 15px;\r\n  }\r\n  \r\n  .btn-primary {\r\n    background-color: #007bff;\r\n    border-color: #007bff;\r\n    text-align: end;\r\n  }\r\n  \r\n  .btn-primary:hover {\r\n    background-color: #0056b3;\r\n    border-color: #0056b3;\r\n  }\r\n  </style>"],"mappings":"AA0BA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE;IACLC,gBAAgB,EAAE;MAChBC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MAELC,UAAU,EAAE,EAAE;MACdC,WAAW,EAAE;IAEf,CAAC;EACH,CAAC;EAEDC,OAAO,EAAE;IAEP,MAAMC,UAAUA,CAAA,EAAG;MACjB,MAAMC,WAAU,GAAI,IAAI,CAACT,gBAAgB,CAACS,WAAW;MACrD,MAAMC,QAAO,GAAI;QAEfJ,WAAW,EAAE,IAAI,CAACA,WAAW;QAC7BD,UAAU,EAAE,IAAI,CAACA,UAAU;QAC3BI,WAAW,EAAEA,WAAW,CAAE;QAC1B;MACF,CAAC;MACD,IAAI;QACF,MAAME,QAAO,GAAI,MAAMd,KAAK,CAACe,IAAI,CAAC,kCAAkC,EAAEF,QAAQ,CAAC;QAC/EG,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEH,QAAQ,CAACP,IAAI,CAAC;QACrDW,KAAK,CAAC,iCAAiC,CAAC;;QAExC;QACA,MAAMC,YAAW,GAAI,MAAMnB,KAAK,CAACoB,GAAG,CAAC,mCAAmC,CAAC;QACzE,MAAMC,UAAS,GAAIF,YAAY,CAACZ,IAAI;QACpCW,KAAK,CAAC;sBACQG,UAAU,CAACC,OAAO;0BACdD,UAAU,CAACZ,WAAW;yBACvBY,UAAU,CAACE,UAAU;yBACrBF,UAAU,CAACb,UAAU,EAAE,CAAC;QAEzC,IAAI,CAACgB,YAAY,CAAC,CAAC,EAAE;MAEvB,EAAE,OAAOC,KAAK,EAAE;QACdT,OAAO,CAACS,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;QACpDP,KAAK,CAAC,+BAA8B,GAAIO,KAAK,CAACC,OAAO,CAAC;MACxD;IACF,CAAC;IACDF,YAAYA,CAAA,EAAG;MAEb,IAAI,CAAChB,UAAS,GAAI,EAAE;MACpB,IAAI,CAACC,WAAU,GAAI,EAAE;IAEvB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}