{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-9e7d65f0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"row\"\n};\nconst _hoisted_2 = {\n  class: \"col-lg-2 col-md-2 col-sm-2 partlt shadow\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-lg-10\"\n}, null, -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ParteLateral = _resolveComponent(\"ParteLateral\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_ParteLateral)]), _hoisted_3]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_ParteLateral","_hoisted_3"],"sources":["C:\\Users\\Kenny\\Downloads\\Proyect\\Proyect_Web\\src\\components\\Empleados.vue"],"sourcesContent":["<template>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-2 col-md-2 col-sm-2 partlt shadow\">\r\n      <ParteLateral></ParteLateral>\r\n    </div>\r\n    <div class=\"col-lg-10\">\r\n\r\n    </div>\r\n   </div> \r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'EmpleadosApp',\r\n  data() {\r\n    return {\r\n      mostrarFormulario: false,\r\n      datosempl: [],\r\n      nuevoEmpleado: {\r\n        IDEmpleado: null, \r\n        Nombre: '',\r\n        NumeroDeTelefono: '',\r\n        Rol: '',\r\n        activo: true\r\n      },\r\n      modoEdicion: false,\r\n      opcionesCargo: ['Encargado', 'Empleado']\r\n    }\r\n  },\r\n  mounted() {\r\n    this.obtenerEmpleados();\r\n  },\r\n  methods: {\r\n    async agregarEmpleado() {\r\n      try {\r\n        if (this.modoEdicion) {\r\n          await axios.put('http://localhost:3000/Neg/empleadosAct', {\r\n            IDEmpleado: this.nuevoEmpleado.IDEmpleado,\r\n            Nombre: this.nuevoEmpleado.Nombre,\r\n            NumeroDeTelefono: this.nuevoEmpleado.NumeroDeTelefono,\r\n            Rol: this.nuevoEmpleado.Rol,\r\n            activo: this.nuevoEmpleado.activo\r\n          });\r\n          \r\n          alert(\"datos enviados\");\r\n          this.obtenerEmpleados();\r\n          const index = this.datosempl.findIndex(emp => emp.IDEmpleado === this.nuevoEmpleado.IDEmpleado);\r\n          if (index !== -1) {\r\n            this.datosempl[index] = { ...this.nuevoEmpleado };\r\n          }\r\n        } else {\r\n          this.nuevoEmpleado.IDEmpleado = Date.now();\r\n          await axios.post('http://localhost:3000/Neg/empleados', {\r\n            IDEmpleado: this.nuevoEmpleado.IDEmpleado, \r\n            Nombre: this.nuevoEmpleado.Nombre,\r\n            NumeroDeTelefono: this.nuevoEmpleado.NumeroDeTelefono,\r\n            Rol: this.nuevoEmpleado.Rol,\r\n            activo: this.nuevoEmpleado.activo\r\n          });\r\n          this.datosempl.push({ ...this.nuevoEmpleado });\r\n          alert(\"datos enviados\");\r\n          this.obtenerEmpleados();\r\n        }\r\n        this.resetearFormulario();\r\n      } catch (error) {\r\n        console.error(\"Error al enviar los datos del empleado:\", error);\r\n      }\r\n    },\r\n    editarEmpleado(empleado) {\r\n      this.nuevoEmpleado = { ...empleado };\r\n      this.modoEdicion = true;\r\n      this.mostrarFormulario = true;\r\n    },\r\n    async borrarEmpleado(IDEmpleado) {\r\n      if (confirm('¿Está seguro de que desea eliminar este empleado?')) {\r\n        try {\r\n          this.datosempl = this.datosempl.filter(emp => emp.IDEmpleado !== IDEmpleado);\r\n          await axios.delete(`http://localhost:3000/Neg/empleados/${IDEmpleado}`);\r\n        } catch (error) {\r\n          console.error(\"Error al eliminar el empleado:\", error);\r\n        }\r\n      }\r\n    },\r\n    resetearFormulario() {\r\n      this.nuevoEmpleado = {\r\n        IDEmpleado: null,\r\n        Nombre: '',\r\n        NumeroDeTelefono: '',\r\n        Rol: '',\r\n        activo: true\r\n      };\r\n      this.mostrarFormulario = false;\r\n      this.modoEdicion = false;\r\n    },\r\n    cancelarEdicion() {\r\n      this.resetearFormulario();\r\n    },\r\n    async obtenerEmpleados() {\r\n      try {\r\n        const response = await axios.get('http://localhost:3000/Neg/empleadosget');\r\n        this.datosempl = response.data.results;\r\n      } catch (error) {\r\n        console.error('Error al obtener los empleados:', error);\r\n        alert('Error al obtener los empleados');\r\n      }\r\n    },\r\n    validarTelefono(event) {\r\n      const input = event.target;\r\n      if (!/^\\d*$/.test(input.value)) {\r\n        input.value = input.value.replace(/[^\\d]/g, '');\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.movements {\r\n  padding: 80px;\r\n  background-color: #fff;\r\n  border-radius: 5px;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n  border-bottom: 1px solid #ccc;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.employee-table {\r\n  width: 100%;\r\n  background-color: #fff;\r\n  border-radius: 5px;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n  overflow: hidden; /* Asegura que el contenido no desborde */\r\n}\r\n\r\n.table {\r\n  width: 100%;\r\n}\r\n\r\n.table th,\r\n.table td {\r\n  padding: 12px;\r\n  text-align: left;\r\n}\r\n\r\n.table-striped tbody tr:nth-of-type(odd) {\r\n  background-color: rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.form-check-input {\r\n  margin-top: 0.3rem;\r\n}\r\n\r\n.form-check-label {\r\n  margin-left: 1rem;\r\n}\r\n</style>\r\n"],"mappings":";;;EAEOA,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAA0C;gEAGrDC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAW;;;uBAJxBE,mBAAA,CAOO,OAPPC,UAOO,GANLF,mBAAA,CAEM,OAFNG,UAEM,GADJC,YAAA,CAA6BC,uBAAA,E,GAE/BC,UAEM,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}